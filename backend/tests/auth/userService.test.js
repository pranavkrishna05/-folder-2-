const userService = require('../../services/auth/userService');const userRepository = require('../../repositories/userRepository');const emailService = require('../../integrations/emailService');jest.mock('../../repositories/userRepository');jest.mock('../../integrations/emailService');beforeEach(() => {  jest.resetAllMocks();});test('registerUser successfully registers a new user', async () => {  userRepository.findByEmail.mockResolvedValue(null);  userRepository.create.mockResolvedValue({ email: 'test@example.com' });  emailService.sendConfirmationEmail.mockResolvedValue();  const result = await userService.registerUser('test@example.com', 'Password123');  expect(userRepository.findByEmail).toHaveBeenCalledWith('test@example.com');  expect(userRepository.create).toHaveBeenCalledWith({ email: 'test@example.com', password: 'Password123' });  expect(emailService.sendConfirmationEmail).toHaveBeenCalledWith('test@example.com');  expect(result).toEqual({ email: 'test@example.com' });});test('registerUser fails if email is invalid', async () => {  await expect(userService.registerUser('invalid-email', 'Password123')).rejects.toThrow('Invalid email format');});test('registerUser fails if password does not meet complexity requirements', async () => {  await expect(userService.registerUser('test@example.com', 'password')).rejects.toThrow('Password does not meet complexity requirements');});test('registerUser fails if email is already in use', async () => {  userRepository.findByEmail.mockResolvedValue({ email: 'test@example.com' });  await expect(userService.registerUser('test@example.com', 'Password123')).rejects.toThrow('Email is already in use');});